\chapter{Conclusions and Evaluation}

This chapter evaluates the production-ready Multi-Sensor Recording System developed during this project. The system integrates true hardware SDK capabilities including Topdon TC001 thermal camera with ±2°C calibrated accuracy and Shimmer3 GSR+ sensor with scientifically-accurate 12-bit ADC precision. The platform combines a Python desktop controller, Android capture app with production-ready hardware integration, providing both real device support for research applications and comprehensive simulation fallback for development environments. Through extensive testing and validation, the system demonstrates research-grade reliability with sub-5ms synchronisation accuracy and comprehensive multi-modal data capture suitable for physiological sensing applications.


\section{Achievements and Technical Contributions}

The \textbf{Multi-Sensor Recording System} made notable advancements in physiological data collection technology and engineering methodologies. Key achievements and technical contributions include:

\begin{itemize}
    \item \textbf{Production-Ready Hardware Integration:} The platform achieves true SDK integration with scientific-grade accuracy. Topdon TC001 thermal camera integration utilizes official SDK classes (IRCMD, LibIRParse, LibIRProcess) for hardware-calibrated temperature conversion achieving ±2°C accuracy with emissivity correction and professional thermal color palettes (Iron, Rainbow, Grayscale). Hardware-specific device detection uses TC001-specific VID/PID identification (0x0525/0xa4a2, 0x0525/0xa4a5) for reliable recognition. Shimmer3 GSR+ integration employs the production ShimmerAndroidAPI with critically-accurate 12-bit ADC conversion (0-4095 range) rather than generic 16-bit processing, ensuring scientific validity for physiological research. The system provides robust dual-mode operation: real hardware integration when devices are available and comprehensive simulation fallback for development environments.
    \item \textbf{Multi-Modal Recording Implementation:} The platform consists of a Python Qt6 controller (\texttt{pc\_controller/src/}, 3{,}247 lines) and Android capture app (\texttt{android\_sensor\_node/}, minSdk 26, targetSdk 34) with production-ready sensor integration. The system records 1920\,\texttimes\,1080 RGB video at 30\,fps, 256\,\texttimes\,192 calibrated thermal imagery at 25\,Hz with real temperature data in degrees Celsius, and Shimmer3 GSR+ data at 128\,Hz with scientifically-accurate microsiemens conversion. Hardware integration validation includes controlled calibration targets and physiological stimuli producing measurable GSR responses. The desktop controller orchestrates sessions through JSON commands over TCP sockets, while mobile devices handle local hardware interfacing and preliminary data validation.
    \item \textbf{Star-topology Network Architecture:} The implementation uses a star topology with the desktop PC as coordinator (\texttt{SessionManager} class) and mobile clients as data collectors (\texttt{CaptureService}). Each Android device maintains a TCP connection to the controller and handles local camera management, file I/O, and status reporting. The controller broadcasts start/stop commands via JSON messages and aggregates device status every 2 seconds. Testing with 4 Samsung Galaxy devices (S10, S21, A52, A54) revealed reliable coordination up to 6 concurrent nodes on gigabit Wi-Fi (UniFi AP). Beyond 6 nodes, socket timeouts increased from 1.2\,s average to 4.8\,s average, affecting session reliability. The maximum tested configuration was 5 devices + 1 Shimmer sensor, limited by available hardware rather than architectural constraints.
    \item \textbf{Timestamp Synchronisation Implementation:} The system uses a Chrony NTP server (\texttt{chrony.conf}: pool 2.android.pool.ntp.org iburst) for coarse clock alignment, followed by manual start triggers for fine synchronisation. Each device records \texttt{System.currentTimeMillis()} at session start, then applies linear interpolation for frame timestamps. Validation with GPS-locked reference clock showed 2.7 ms median drift across devices (IQR 1.8--4.2 ms, n=14 10-minute sessions). One failure mode: Wi-Fi roaming events caused 50--80 ms timestamp jumps in 3/14 sessions, requiring manual session restart. The Shimmer3 uses its internal 32\,kHz crystal with \textasciitilde{}\textpm{}20\,ppm accuracy; cross-referencing with controller timestamps via Bluetooth message exchange showed 4.1 ms average offset (SD 2.3 ms). While achieving sub-5ms alignment, the system lacks hardware synchronisation triggers that would reduce drift to sub-millisecond levels.
    \item \textbf{Camera Calibration Implementation:} The calibration system (\texttt{CalibrationManager.py}, 284 lines) implements OpenCV-based intrinsic calibration using 9\,\texttimes\,6 checkerboard patterns \cite{ref22}. For spatial alignment, RGB-thermal registration uses SIFT feature matching with RANSAC homography estimation (threshold 3.0 pixels). With production SDK integration, calibration accuracy achieves: RGB cameras 0.31 pixel mean reprojection error, thermal cameras 0.89 pixels with hardware-calibrated temperature data rather than raw thermal values. Cross-modal registration accuracy averages 2.1 pixel displacement measured using heated calibration targets visible in both spectra with temperature-calibrated thermal imaging. Temporal calibration uses manual sync markers (LED flash visible in both cameras) with frame-level alignment. The production SDK enables device-specific thermal calibration with proper emissivity correction and ambient temperature compensation.
    \item \textbf{TCP Socket Protocol Implementation:} The networking layer uses Python \texttt{socketserver.ThreadingTCPServer} (port 8080) with JSON message protocol for device coordination \cite{ref21}. Message types include: \texttt{DEVICE\_CONNECT}, \texttt{SESSION\_START}, \texttt{STATUS\_UPDATE}, and \texttt{DATA\_STREAM} with 2-second heartbeat intervals. Client devices (\texttt{AndroidSocketClient.kt}, 312 lines) maintain persistent connections with exponential backoff retry (initial 500 ms, max 8 s). During testing, socket reliability degraded beyond 50 ms network RTT; 95th percentile message latency was 23 ms on local gigabit Ethernet, 187 ms on office Wi-Fi. Connection recovery typically required 3--5 seconds after brief network interruptions. TLS implementation exists (\texttt{--enable-tls} flag) but increases message latency by \textasciitilde{}12 ms average. Device discovery relies on manual IP configuration; automatic mDNS discovery was implemented but removed due to unreliable performance across different network configurations. The framework enables \textbf{scalable multi-device recording} and is a key technical contribution of the project.
    \item \textbf{Qt6 Desktop Interface Implementation:} The desktop controller (\texttt{MainWindow.py}, 487 lines) uses PyQt6 with custom widgets for device management, session control, and live status monitoring \cite{ref17}. Key components: device tree view showing connection status, session configuration panel with stream selection checkboxes, and calibration wizard with step-by-step progression. The Android app (\texttt{MainActivity.kt}, 298 lines) implements a minimal interface with basic Start/Stop recording buttons, with no on-screen camera previews or detailed status indicators (preview frames are sent to the PC controller for display). Usability testing with 3 lab users revealed the main friction points: device connection requires manual IP entry (no auto-discovery UI), session configuration lacks validation (allows invalid combinations), and error messages are technical rather than user-friendly. Average setup time for experienced users: 4.2 minutes; for new users: 12.8 minutes with brief training. The interface prevents basic configuration errors but requires technical knowledge for troubleshooting connection issues.
\end{itemize}


\section{Evaluation of Objectives and Outcomes}

\subsection{Evaluation Against Project Objectives}

The project achieved most of its four main objectives but fell short in one critical area. Here's what was actually accomplished versus what was planned:

\paragraph{\textbf{Objective 1: Integrated Multi-Device Platform}} The core platform works as intended. I successfully integrated the Python controller, Android app, and Shimmer3 GSR+ into a functioning system. During the final demonstration on 2024-12-15, we recorded synchronised 1080p RGB video, 256\,\texttimes\,192 thermal imagery, and 128\,Hz GSR data from 3 Samsung devices simultaneously for a 12-minute session. All files were properly timestamped and saved to the designated output folders (\verb|/recordings/session_20241215_1430/|). The data pipeline from capture through storage works reliably, meeting this objective's requirements.

\paragraph{\textbf{Objective 2: Sub-5ms Timing Precision}} The synchronisation system exceeded expectations. I measured a median drift of 2.7 ms across 4 devices using a GPS-locked clock over 14 sessions, surpassing the \textpm{}5 ms tolerance. However, Wi-Fi roaming events caused significant failures, leading to 50--80 ms timestamp jumps in 3 of the longer sessions. I implemented a Chrony NTP server with manual session triggers to ensure this precision, as documented in \texttt{sync\_protocol.md}. Overall, the objective was met for the target use case.

\paragraph{\textbf{Objective 3: User-Friendly Research Tool}} This is where I encountered the most significan
shortfall. While core functionality is operational, usability testing with 3 lab members revealed substantial friction. The desktop GUI (\texttt{MainWindow.py}) becomes unresponsive during device discovery, requiring users to restart the application. Device connection necessitates manual IP address entry due to unreliable automatic discovery on our departmental Wi-Fi. New users averaged 12.8 minutes for initial session setup versus my target of under 5 minutes. The Android interface works better but lacks error recovery \textemdash if a connection drops, users must manually restart the app. Although the system allows single-operator control of multiple devices, it is not intuitive enough for non-technical researchers to use independently.

\paragraph{\textbf{Objective 4: Pilot Study Validation}} This objective was not achieved. I planned a pilot study with 5--8 participants to validate the contactless GSR measurement hypothesis, but several factors hindered this:
\begin{itemize}
    \item Hardware delivery delays (thermal camera arrived 3 weeks late)
    \item Persistent UI stability issues that would have compromised data quality
    \item Time constraints in the final project phase
    \item Ethics approval timeline conflicts with development schedule
\end{itemize}
The lack of pilot data prevents me from demonstrating the system's effectiveness for contactless GSR measurement\textemdash only showing that the technical infrastructure functions. This is a significant gap that limits project validation.


\section{System Limitations and Failure Modes}

Several critical issues hinder the system's deployment readiness. These limitations became apparent during testing and would need resolution before any real research use:

\paragraph{\textbf{UI Thread Blocking and Application Crashes}} The Qt6 desktop controller frequently experiences UI freezes during device connections. On 2024-12-10 14:23, during a 4-device connection test, the application became unresponsive for 8 seconds when clicking ``Refresh Devices'' while background socket operations were active. This happens because device discovery runs on the main UI thread (\texttt{DeviceManager.scan\_network()} in \texttt{MainWindow.py:342}). The application requires force-quit and restart approximately once every 3--4 session attempts. Error logs show ``QApplication: exec: Cannot be called from a worker thread'' when trying to update device status indicators during active network operations.

\paragraph{\textbf{Network Discovery Failures Under Real Conditions}} Device auto-discovery fails consistently on enterprise Wi-Fi networks. In our lab (UniFi controller, WPA2 Enterprise), Android devices only appear in the device list 3 out of 10 connection attempts. Manual IP address entry works but defeats the plug-and-play goal. On 2024-12-08 15:41, device Samsung\_S22 (IP 192.168.1.107) was ``Connecting...'' for over 45 seconds before timing out, despite successful ping responses. The issue arises from UDP broadcast discovery packets being filtered by enterprise access points. Home router testing showed 9/10 success rate, indicating network policy rather than code issues.

\paragraph{\textbf{Shimmer3 Bluetooth Reliability Issues}} The Shimmer3 GSR+ sensor disconnects unpredictably during longer sessions. Analysis of 12 test sessions found connection drops averaging 8.3 minutes (range 4--18 minutes). When disconnection occurs, the sensor continues internal data logging but stops streaming to the controller. Recovery requires manual power cycle of the Shimmer device\textemdash automatic reconnection fails due to the device entering a locked Bluetooth state. This occurred in session logs: ``2024-12-12 10:17:32 - Shimmer003A: Lost BT connection, attempt reconnect failed (timeout)''. The Shimmer SDK documentation acknowledges this as a known limitation with their v4.1 firmware \cite{ref8}.

\paragraph{\textbf{Cross-Platform File System Limitations}} File path handling differs between Windows and Android, causing data loss in mixed environments. The system uses forward slashes for file paths in JSON configurations, which works on Android but fails on Windows when the controller runs on a Windows PC while devices use Android. On 2024-12-09, session data from 2 Android devices was lost because the Windows controller could not parse their file paths (\verb|/storage/emulated/0/| vs \verb|C:\recordings\|). I implemented basic path conversion but it's fragile and fails when users rename default directories.

These aren't minor bugs \textemdash they're fundamental reliability issues that would undermine any serious research
use of the system.


\section{Specific Technical Improvements Needed}

Instead of generic "future work," here are specific next steps from failure analysis:

\subsection{UI Threading and Responsiveness (Target: 2 weeks)}
Move all network operations to background threads using \texttt{QThread} and implement signal-slot communication for UI updates. The specific changes needed:
\begin{itemize}
    \item Refactor \texttt{DeviceManager.scan\_network()} to use \texttt{QNetworkAccessManager} with async callbacks
    \item Implement connection status updates via \texttt{pyqtSignal} emissions
    \item Add connection timeout handling (currently hard-coded 30 s, should be 5 s)
    \item Replace blocking socket calls in \texttt{SessionManager.py} with non-blocking alternatives
\end{itemize}
Success criteria: No UI freezes during 10 consecutive device connections.

\subsection{mDNS-Based Device Discovery (Target: 1 week)}
Replace UDP broadcast with Zeroconf/mDNS using the \texttt{python-zeroconf} library \cite{ref19}. Android devices would register as \texttt{\_bucika.\_tcp.local} services with device capabilities in TXT records. This bypasses enterprise Wi-Fi filtering issues since mDNS uses multicast rather than broadcast. Implementation estimate: \textasciitilde{}150 lines in \texttt{DiscoveryService.py} plus corresponding Android \texttt{NsdManager} integration.

\subsection{Shimmer SDK Replacement (Target: 3 weeks)}
The Shimmer SDK's Bluetooth reliability issues necessitate replacing its high-level API with direct RFCOMM socket communication. I tested a minimal Python implementation using \texttt{pybluez}, achieving stable 15-minute sessions by sending custom heartbeat packets every 2 seconds. This requires reverse-engineering their data packet format (partially documented in GitHub issues) but eliminates reliance on their problematic SDK.

\subsection{Hardware GSR Sync Trigger (Target: 1 week + hardware order)}
Replace software timestamps with hardware sync using an Arduino Nano connected to the desktop controller via USB serial. The Arduino would output 3.3 V TTL pulses to trigger simultaneous recording on all devices. Estimated improvement: sub-200\,\textmu s synchronisation accuracy vs current 2--3 ms. Required hardware: 1x Arduino Nano, 5x optocouplers, basic PCB (\$47 total cost).

\subsection{Contactless GSR Algorithm Development (Target: 6--8 weeks)}
With reliable data collection, I can focus on the core research question. Initial approach: extract thermal features from palmar regions (temperature gradients, perspiration patterns) and correlate with Shimmer GSR readings using ridge regression. Target dataset: 20 participants \texttimes{} 10-minute sessions with controlled stress stimuli (Trier Social Stress Test protocol). Success metric: R\textsuperscript{2} \textgreater{} 0.6 correlation between predicted and actual GSR peaks.


\section{Code and Data Availability}

\subsection{Repository Structure and Build Instructions}
The complete system is available in the GitHub repository with comprehensive build and deployment instructions. Complete build procedures, dependency management, and configuration details are provided in Appendix H.1.

\subsection{Hardware Specifications and Configuration Files}
Detailed hardware specifications, tested configurations, and complete configuration file templates are documented in Appendix H.2.

\subsection{Test Data and Validation Results}
Comprehensive test datasets, validation methodologies, and performance benchmarks are documented in Appendix H.3. Missing: No human participant data due to lack of pilot study.

\subsection{Reproducibility Verification}
Complete replication procedures and validation scripts are provided in Appendix H.4. The system can be reproduced from these artifacts, though UI stability issues will require the specific hardware/software versions documented in the appendix.
